<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bukpot Express</title>
    <link rel="stylesheet" href="popup.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="card">
        <div class="header">
            <img src="images/icon48.png" alt="Logo">
            <h2 class="header-title">Bukpot Express</h2>
        </div>

        <!-- Main UI Section -->
        <div id="main-section" class="container">
            <!-- Cara Penggunaan Section -->
          <div class="tutorial-section">
              <div class="tutorial-header" id="tutorialToggle">
                  <span class="tutorial-title">üìñ Cara Penggunaan</span>
                  <span class="toggle-icon" id="toggleIcon">‚ñº</span>
              </div>
              <div class="tutorial-content" id="tutorialContent">
                  <div class="tutorial-steps">
                      <div class="step">
                          <h4>üéØ Langkah 1: Persiapan</h4>
                          <p>Login ke Coretax DJP dan buka halaman "Bukti Potong"</p>
                      </div>
                      <div class="step">
                          <h4>üìÖ Langkah 2: Pilih Masa Pajak</h4>
                          <p>Pilih bulan dan tahun yang diinginkan</p>
                      </div>
                      <div class="step">
                          <h4>‚¨áÔ∏è Langkah 3: Mulai Download</h4>
                          <p>Klik tombol "Filter & Download"</p>
                      </div>
                      <div class="step">
                          <h4>‚è±Ô∏è Langkah 4: Tunggu Proses</h4>
                          <p>Download otomatis dengan jeda antar file</p>
                      </div>
                  </div>
              </div>
          </div>

            <!-- Tax Period Filter Section -->
            <div class="filter-section">
                <h3>Filter Masa Pajak</h3>
                <div class="filter-controls">
                    <select id="bulanSelect">
                        <option value="">Pilih Bulan</option>
                        <option value="01">Januari</option>
                        <option value="02">Februari</option>
                        <option value="03">Maret</option>
                        <option value="04">April</option>
                        <option value="05">Mei</option>
                        <option value="06">Juni</option>
                        <option value="07">Juli</option>
                        <option value="08">Agustus</option>
                        <option value="09">September</option>
                        <option value="10">Oktober</option>
                        <option value="11">November</option>
                        <option value="12">Desember</option>
                    </select>

                    <select id="tahunSelect">
                        <option value="">Pilih Tahun</option>
                    </select>
                </div>
            </div>

            <!-- Download Mode Section -->
            <div class="download-mode-section">
                <h3>Mode Download</h3>
                <div class="mode-controls">
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="downloadMode" value="single" checked>
                            <span class="radio-custom"></span>
                            <span class="radio-text">Download Satu Halaman</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="downloadMode" value="all">
                            <span class="radio-custom"></span>
                            <span class="radio-text">Download Semua Halaman</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Download Action Section -->
            <div class="download-action-section">
                <button id="filterBtn">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="icon">
                        <path d="M12 15.25a.75.75 0 01-.75-.75V4.75a.75.75 0 011.5 0V14.5a.75.75 0 01-.75-.75z" />
                        <path d="M18.25 14a.75.75 0 00-.53 1.28l-5 5a.75.75 0 00-1.06 0l-5-5a.75.75 0 00-1.06 1.06l5 5a2.25 2.25 0 003.18 0l5-5a.75.75 0 00-.53-1.34z" />
                    </svg>
                    <span>Filter & Download</span>
                </button>
                <button id="stopBtn" style="display: none;">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="icon">
                        <path d="M6 6h12v12H6V6z" />
                    </svg>
                    <span>STOP Download</span>
                </button>
            </div>

            <!-- Status Log Section -->
            <div class="status-section">
                <h3>Status Log</h3>
                <div id="statusLog" class="status-log">Status: Menunggu perintah...</div>
                <div class="log-controls">
                    <button id="clearLogBtn">Clear Log</button>
                </div>
            </div>
        </div>

        <!-- Footer Information -->
        <div class="footer-info">
            <div class="funding-info">
                <p>üíö Didukung oleh <strong><a href="https://alatpajak.id" target="_blank" style="color: inherit; text-decoration: underline;">alatpajak.id</a></strong></p>
            </div>
            <div class="community-info">
                <p>ü§ù Ekstensi ini tersedia gratis untuk komunitas pajak Indonesia.</p>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay" style="display: none;">
        <div class="spinner"></div>
        <div class="loading-text">Processing...</div>
    </div>

    <!-- App Scripts -->
    <script src="popup.js"></script>
</body>
</html>